@using BanVeDiTourDuLich.Controllers
@{
    ViewBag.Title = "IndexAdmin";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    int count = HomeController.Count;
    DataContext context = new DataContext();
}
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0 text-dark">Tổng quan</h1>
                </div>
                <!-- /.col -->
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
                        <li class="breadcrumb-item active">Tổng quan</li>
                    </ol>
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <!-- Small boxes (Stat box) -->
            <div class="row">
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-info">
                        <div class="inner">
                            <h3 id="sovedatmoi">0</h3>

                            <p>Số vé đặt trong tháng</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-bag"></i>
                        </div>
                    </div>
                </div>
                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-success">
                        <div class="inner">
                            <h3 id="so_hieu_tang_truong">0<sup style="font-size: 20px">%</sup></h3>

                            <p>Số liệu tăng trưởng</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                    </div>
                </div>
                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-warning">
                        <div class="inner">
                            <h3 id="sokhachhangmoi">0</h3>

                            <p>Số người dùng đăng kí mới trong tháng</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-person-add"></i>
                        </div>
                    </div>
                </div>
                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-danger">
                        <div class="inner">
                            <h3>@count</h3>

                            <p>Số lần truy cập trang web</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-pie-graph"></i>
                        </div>
                    </div>
                </div>
                <!-- ./col -->
            </div>
            <!-- /.row -->
            <!-- Main row -->
            <div class="row">
                <!-- Left col -->
                <section class="col-lg-12 connectedSortable">
                    <!-- Custom tabs (Charts with tabs)-->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-chart-pie mr-1"></i>
                                Số vé đã bán
                            </h3>
                            <div class="card-tools">
                                <ul class="nav nav-pills ml-auto">
                                    <li class="nav-item">
                                        <a class="nav-link active"
                                           href="#revenue-chart"
                                           data-toggle="tab">Biểu đồ miền</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="tab-content p-0">
                                <!-- Morris chart - Sales -->
                                <div class="chart tab-pane active"
                                     id="revenue-chart"
                                     style="position: relative; height: 300px">
                                    <canvas id="revenue-chart-canvas"
                                            height="300"
                                            style="height: 300px"></canvas>
                                </div>
                                <div class="chart tab-pane"
                                     id="sales-chart"
                                     style="position: relative; height: 300px">
                                    <canvas id="sales-chart-canvas"
                                            height="300"
                                            style="height: 300px"></canvas>
                                </div>
                            </div>
                        </div>
                        <!-- /.card-body -->
                    </div>
                    <!-- /.card -->
                    <!-- DIRECT CHAT -->
                    <input type="hidden" id="currentClientId" />
                    <input type="hidden" id="chatIsShown" value="1" />
                    <div class="card direct-chat direct-chat-primary">
                        <div class="card-header">
                            <h3 class="card-title">Hỗ trợ trực tiếp</h3>

                            <div class="card-tools">
                                <span title="3 New Messages" class="badge badge-primary">3</span>
                                <button type="button"
                                        class="btn btn-tool"
                                        data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <button type="button"
                                        class="btn btn-tool"
                                        title="Contacts"
                                        data-widget="chat-pane-toggle"
                                        id="btn-message">
                                    <i class="fas fa-comments"></i>
                                </button>
                                <button type="button"
                                        class="btn btn-tool"
                                        data-card-widget="remove">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body" id="card">
                            <!-- Conversations are loaded here -->
                            <div class="direct-chat-messages" id="#">
                                <!-- Message. Default to the left -->
                                
                                <!-- /.direct-chat-msg -->
                                <!-- Message to the right -->
                                
                                <!-- /.direct-chat-msg -->
                            </div>
                            <!--/.direct-chat-messages-->
                            <!-- Contacts are loaded here -->
                            <div class="direct-chat-contacts index-20">
                                <ul class="contacts-list" id="#">
                                </ul>
                                <!-- /.contacts-list -->
                            </div>
                            <!-- /.direct-chat-pane -->
                        </div>
                        <!-- /.card-body -->
                        <div class="card-footer">
                            <form action="#" method="post">
                                <div class="input-group">
                                    <input type="text"
                                           name="message"
                                           placeholder="Type Message ..."
                                           class="form-control msg-input" />
                                    <span class="input-group-append">
                                        <button type="button" class="btn btn-primary send__button">
                                            Gửi
                                        </button>
                                    </span>
                                </div>
                            </form>
                        </div>
                        <!-- /.card-footer-->
                    </div>
                    <!--/.direct-chat -->
                </section>
                <!-- /.Left col -->
            </div>
            <!-- /.row (main row) -->
        </div>
        <!-- /.container-fluid -->
    </section>
    <!-- /.content -->
</div>
@section styles
{
    <style>
        .index-20{
            z-index: 20;
        }

        .notification__box {
            position: fixed;
            z-index: 1000;
            padding: 1rem;
            bottom: 1rem;
            right: 0.5rem;
            border-radius: 5px;
        }

        .notification__items {
            display: flex;
            flex-direction: column;
        }

        .notification__item {
            display: flex;
            height: 5rem;
            justify-content: space-evenly;
            padding: 1rem;
            align-items: center;
            background: aliceblue;
            animation: notification_in;
            animation-duration: 1s;
        }

        .notification__item__outanimation {
            animation: notification_out;
            animation-duration: 1s;
        }

        .notification__image {
            height: 100%;
            margin-right: 1rem;
        }

        .notification__text {
            font-family: 'Font Awesome 5 Free';
            margin-right: 2rem;
            display: inline-block;
        }

        .notification__button, .notification__button:focus {
            border: none;
            height: 100%;
            background: inherit;
            outline: none;
        }

        .notification__icon {
            background: inherit;
            color: red;
        }

        @@keyframes notification_in {
        from {transform: translateX(10rem)}
            to {
                transform: translateX(0)
            }
        }

        @@keyframes notification_out {
            from {transform: translateX(0)}
            to {
                transform: translateX(25rem)
            }
        }
    </style>
}

@section scripts
{
    <script>
        function addOutAnimation(button) {
            var notification_item = $(button).parent();
            $(notification_item).addClass('notification__item__outanimation');
            setTimeout(function () {
                    $(notification_item).remove();
                },
                1000);
        }
    </script>
}
